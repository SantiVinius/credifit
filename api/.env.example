# ===========================================
# CrediFit API - Variáveis de Ambiente
# ===========================================

# ===========================================
# CONFIGURAÇÕES DA APLICAÇÃO
# ===========================================

# Ambiente de execução
NODE_ENV=development

# Porta da aplicação
PORT=3000

# URL base da aplicação
BASE_URL=http://localhost:3000

# ===========================================
# BANCO DE DADOS
# ===========================================

# URL de conexão com o PostgreSQL
DATABASE_URL="postgresql://usuario:senha@localhost:5432/credifit"

# Configurações do Prisma (opcional)
PRISMA_LOG_QUERIES=true
PRISMA_LOG_LEVEL=info

# ===========================================
# AUTENTICAÇÃO JWT
# ===========================================

# Chave secreta para assinatura dos tokens JWT
JWT_SECRET="sua-chave-secreta-muito-segura-aqui"

# Tempo de expiração do token (em segundos)
JWT_EXPIRES_IN=86400

# Algoritmo de assinatura
JWT_ALGORITHM=HS256

# ===========================================
# APIS EXTERNAS
# ===========================================

# API para consulta de score de crédito
SCORE_API_URL="https://mocki.io/v1/f7b3627c-444a-4d65-b76b-d94a6c63bdcf"

# API para simulação de pagamento
PAYMENT_API_URL="https://mocki.io/v1/386c594b-d42f-4d14-8036-508a0cf1264c"

# Timeout para requisições externas (em ms)
EXTERNAL_API_TIMEOUT=5000

# ===========================================
# RATE LIMITING
# ===========================================

# Limite geral de requisições por IP
RATE_LIMIT_MAX=100
RATE_LIMIT_WINDOW_MS=900000

# Limite específico para autenticação
AUTH_RATE_LIMIT_MAX=10
AUTH_RATE_LIMIT_WINDOW_MS=300000

# ===========================================
# LOGGING
# ===========================================

# Nível de log
LOG_LEVEL=info

# Formato de log
LOG_FORMAT=json

# Arquivo de log (opcional)
LOG_FILE=logs/app.log

# ===========================================
# CORS
# ===========================================

# Origens permitidas (separadas por vírgula)
CORS_ORIGIN=http://localhost:3000,http://localhost:3001

# Credenciais
CORS_CREDENTIALS=true

# ===========================================
# VALIDAÇÃO
# ===========================================

# Habilitar validação automática
VALIDATION_WHITELIST=true
VALIDATION_FORBID_NON_WHITELISTED=true
VALIDATION_TRANSFORM=true

# ===========================================
# CACHE (FUTURO)
# ===========================================

# URL do Redis (para implementação futura)
REDIS_URL=redis://localhost:6379

# TTL padrão do cache (em segundos)
CACHE_TTL=3600

# ===========================================
# MONITORAMENTO (FUTURO)
# ===========================================

# URL do Prometheus (para métricas)
PROMETHEUS_URL=http://localhost:9090

# URL do Sentry (para logs de erro)
SENTRY_DSN=

# ===========================================
# SEGURANÇA
# ===========================================

# Chave para criptografia adicional
ENCRYPTION_KEY="chave-de-criptografia-adicional"

# Headers de segurança
SECURITY_HEADERS=true

# ===========================================
# DESENVOLVIMENTO
# ===========================================

# Habilitar Swagger em desenvolvimento
SWAGGER_ENABLED=true

# Habilitar Prisma Studio
PRISMA_STUDIO_ENABLED=true

# ===========================================
# TESTES
# ===========================================

# Configurações para ambiente de teste
# (Usado automaticamente quando NODE_ENV=test)

# DATABASE_URL="postgresql://test_user:test_pass@localhost:5432/credifit_test"
# JWT_SECRET="chave-de-teste"
# LOG_LEVEL=error

# ===========================================
# INSTRUÇÕES
# ===========================================

# 1. Copie este arquivo para .env
# 2. Configure as variáveis conforme seu ambiente
# 3. Nunca commite o arquivo .env no repositório
# 4. Mantenha as chaves secretas seguras
# 5. Use diferentes valores para cada ambiente

# ===========================================
# EXEMPLOS DE CONFIGURAÇÃO
# ===========================================

# Desenvolvimento Local:
# DATABASE_URL="postgresql://root:root@localhost:5432/credifit?schema=public"
# JWT_SECRET="12j3h129dh98qhf9a8shdaoisdhq98qwh9182h312h312"

# Docker:
# DATABASE_URL="postgresql://postgres:postgres@postgres:5432/credifit"
